<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–ø–∏–ª–∫–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <div id="loader" class="loader">
            <div class="spinner"></div>
        </div>

        <div id="onboarding" class="screen" style="display: none;">
            <div class="onboarding-content">
                <h1>–°–æ–∑–¥–∞–π—Ç–µ —Ü–µ–ª—å</h1>
                <p>–ù–∞—á–Ω–∏—Ç–µ –∫–æ–ø–∏—Ç—å –Ω–∞ —Å–≤–æ—é –º–µ—á—Ç—É!</p>

                <form id="goal-form">
                    <div class="form-group">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏</label>
                        <input type="text" id="goal-name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ù–æ–≤—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω" required>
                    </div>

                    <div class="form-group">
                        <label>–°–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ –Ω–∞–∫–æ–ø–∏—Ç—å</label>
                        <input type="number" id="goal-amount" placeholder="100000" required min="1">
                    </div>

                    <div class="form-group">
                        <label>–°–∫–æ–ª—å–∫–æ —É–∂–µ –µ—Å—Ç—å</label>
                        <input type="number" id="initial-amount" placeholder="0" min="0" value="0">
                    </div>

                    <button type="submit" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å —Ü–µ–ª—å</button>
                </form>
            </div>
        </div>

        <div id="goals-list" class="screen" style="display: none;">
            <div class="goals-header">
                <h1>–ú–æ–∏ —Ü–µ–ª–∏</h1>
                <button class="btn btn-primary" onclick="showOnboardingScreen()">
                    <span class="emoji">‚ûï</span> –ù–æ–≤–∞—è —Ü–µ–ª—å
                </button>
            </div>
            <div id="goals-container"></div>
        </div>

        <div id="main" class="screen" style="display: none;">
            <div class="header">
                <button class="btn btn-back" onclick="showGoalsList()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2 id="goal-title"></h2>
                <div class="amount-display">
                    <span id="current-amount">0</span> / <span id="target-amount">0</span> ‚ÇΩ
                </div>
            </div>

            <div class="progress-container">
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill"></div>
                </div>
                <div class="progress-text">
                    <span id="progress-percent">0%</span>
                </div>
            </div>

            <div class="actions">
                <button class="btn btn-success" onclick="showTransactionModal('deposit')">
                    <span class="emoji">‚ûï</span> –ü–æ–ø–æ–ª–Ω–∏—Ç—å
                </button>
                <button class="btn btn-danger" onclick="showTransactionModal('withdrawal')">
                    <span class="emoji">‚ûñ</span> –°–Ω—è—Ç—å
                </button>
                <button class="btn btn-delete" onclick="confirmDeleteGoal()">
                    <span class="emoji">üóëÔ∏è</span> –£–¥–∞–ª–∏—Ç—å —Ü–µ–ª—å
                </button>
            </div>

        </div>

        <div id="transaction-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3 id="modal-title"></h3>
                <input type="number" id="transaction-amount" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É" min="1">
                <div id="amount-templates" class="amount-templates" style="display: none;">
                    <button class="btn btn-template" onclick="addTemplateAmount(100)">+100</button>
                    <button class="btn btn-template" onclick="addTemplateAmount(500)">+500</button>
                    <button class="btn btn-template" onclick="addTemplateAmount(1000)">+1000</button>
                </div>
                <div class="modal-buttons">
                    <button class="btn btn-secondary" onclick="closeTransactionModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn btn-primary" onclick="processTransaction()">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>